<script>
function delete_click(delindex) {
    const who = document.getElementById("who").value.replace(' ','~');
    const eventname = document.getElementById("eventname").value;
    const data = { 'who': who, 'eventname': eventname, 'delindex': delindex };
    fetch('availability.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: new URLSearchParams(data),
    })
    .then(response => response.text())
    .then(responseText => {
      const parser = new DOMParser();
      const doc = parser.parseFromString(responseText, 'text/html');
      const newcontent = doc.getElementById('availability');
      if (newcontent) {
        document.getElementById('availability').innerHTML
          = newcontent.innerHTML;
      }
      else {
        console.log("Updated availability not found in response");
      }
    })
    .catch(error => console.error('Error:', error));
}
</script>
<!-- CSS -->
<link rel="stylesheet" href="/res/date-picker.css" />
<!-- JS -->
<script src="/res/date-picker.js" defer></script>
<!-- shared DOM -->
<input type="hidden" id="who" value="WHO">
<input type="hidden" id="eventname" value="EVENTNAME">
<div id="picker-backdrop" class="picker-backdrop"></div>
<div id="date-picker" class="date-picker">
  <div class="date-picker-header">
    <div class="days-of-week">
      <span>S</span><span>M</span><span>T</span>
      <span>W</span><span>R</span><span>F</span><span>S</span>
    </div>
  </div>
  <div id="date-picker-months" class="date-picker-months"></div>
</div>
<div id="time-picker" class="time-picker"></div>
ERRORMSG
<div id="availability">AVAILABILITY</div>
OTHERAVAIL
